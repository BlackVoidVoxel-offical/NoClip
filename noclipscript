local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

local noclipping = false
local steppedConnection
local screenGui
local mainFrame
local toggleButton
local statusLabel
local closeButton

-- üß© GUI l√©trehoz√°sa
local function createGui()
	if screenGui then screenGui:Destroy() end

	screenGui = Instance.new("ScreenGui")
	screenGui.Name = "NoClipGUI"
	screenGui.ResetOnSpawn = false
	screenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")

	mainFrame = Instance.new("Frame", screenGui)
	mainFrame.Size = UDim2.new(0, 250, 0, 120)
	mainFrame.Position = UDim2.new(0.5, -125, 0.75, 0)
	mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
	mainFrame.Active = true
	mainFrame.Draggable = true
	Instance.new("UICorner", mainFrame).CornerRadius = UDim.new(0, 10)

	local title = Instance.new("TextLabel", mainFrame)
	title.Text = "NoClip GUI"
	title.Size = UDim2.new(1, 0, 0, 30)
	title.BackgroundTransparency = 1
	title.TextColor3 = Color3.fromRGB(255, 255, 255)
	title.TextScaled = true
	title.Font = Enum.Font.GothamBold

	-- ‚ùå Bez√°r√°s gomb
	closeButton = Instance.new("TextButton", mainFrame)
	closeButton.Text = "X"
	closeButton.Size = UDim2.new(0.2, 0, 0, 25)
	closeButton.Position = UDim2.new(0.8, 0, 0, 0)
	closeButton.BackgroundColor3 = Color3.fromRGB(120, 40, 40)
	closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
	closeButton.Font = Enum.Font.GothamBold
	closeButton.TextScaled = true
	Instance.new("UICorner", closeButton).CornerRadius = UDim.new(0, 8)

	closeButton.MouseButton1Click:Connect(function()
		if noclipping then
			noclipping = false
			if steppedConnection then steppedConnection:Disconnect() end
		end
		screenGui:Destroy()
	end)

	-- üîò Toggle gomb
	toggleButton = Instance.new("TextButton", mainFrame)
	toggleButton.Text = "Toggle NoClip"
	toggleButton.Size = UDim2.new(0.6, 0, 0, 35)
	toggleButton.Position = UDim2.new(0.2, 0, 0.4, 0)
	toggleButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
	toggleButton.Font = Enum.Font.Gotham
	toggleButton.TextScaled = true
	Instance.new("UICorner", toggleButton).CornerRadius = UDim.new(0, 8)

	-- üîµ St√°tusz label
	statusLabel = Instance.new("TextLabel", mainFrame)
	statusLabel.Text = "Status: OFF"
	statusLabel.Size = UDim2.new(1, 0, 0, 20)
	statusLabel.Position = UDim2.new(0, 0, 0.8, 0)
	statusLabel.BackgroundTransparency = 1
	statusLabel.TextColor3 = Color3.fromRGB(200, 0, 0)
	statusLabel.TextScaled = true
	statusLabel.Font = Enum.Font.GothamBold

	-- ‚öôÔ∏è Toggle funkci√≥
	toggleButton.MouseButton1Click:Connect(function()
		noclipping = not noclipping

		if noclipping then
			statusLabel.Text = "Status: ON"
			statusLabel.TextColor3 = Color3.fromRGB(0, 200, 0)

			steppedConnection = RunService.Stepped:Connect(function()
				if noclipping and LocalPlayer.Character then
					for _, part in pairs(LocalPlayer.Character:GetChildren()) do
						if part:IsA("BasePart") then
							part.CanCollide = false
						end
					end
				end
			end)
		else
			statusLabel.Text = "Status: OFF"
			statusLabel.TextColor3 = Color3.fromRGB(200, 0, 0)
			if steppedConnection then steppedConnection:Disconnect() end
		end
	end)
end

-- üöÄ GUI ind√≠t√°sa
createGui()
